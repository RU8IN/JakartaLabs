# main.yml
name: CI/CD workflow
on:
  push:
    branches: [ master ]
jobs:
  build:
    name: Build
    runs-on: self-hosted
    steps:
      - name: Checkout
        uses: actions/checkout@v2
      - name: Gradle Wrapper Validation
        uses: gradle/wrapper-validation-action@v2.1.1
      - name: Build with Gradle
        uses: gradle/actions@v3.1.0
        with:
          arguments: build
  deploy:
    needs: build 
    name: Deploy to server
    runs-on: self-hosted # use your self-hosted runner
    steps:
      - name: echo
        run: echo ${{ secrets.WILDFLY_URL }}
